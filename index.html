<!DOCTYPE html>
<html>
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="fav.ico">

    <title>TalesTerrain</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.2/css/bulma.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/bulma-extension.css" type="text/css"/>

    <link rel="stylesheet" href="css/main.css" type="text/css"/>
    <link rel="stylesheet" href="css/background.css" type="text/css"/>


    <script type="module" src="js/height-map.js"></script>
    <script type="module" src="js/river.js"></script>
    <!--<script type="module" src="js/shadow-map.js"></script>-->

    <script src='js/general-utils.js'></script>
    <!--<script src='js/map-gen/loading-gen.js'></script>-->
    <script src='js/map-gen/utils.js'></script>
    <script src='js/settings.js'></script>
    <script async type="module" src='js/map-gen/main.js'></script>

  </head>
  <body class="pos-relative">

    <!-- Left Side -->
    <div class="pos-absolute pos-t-10 pos-l-10 is-inline-flex">
      <figure class="image is-24x24" style="margin-top: 3px;">
        <img src="images/icon.png">
      </figure>
      <span class="pl-1 is-size-5">TalesTerrain</span>
    </div>
    <div id="canvas-container" class="px-5 pt-6 is-hidden">
      <canvas id="mapCanvas" class="is-hidden"></canvas>
      <canvas id="shadowCanvas" class="is-hidden"></canvas>
      <canvas id="map3dCanvas" class="is-hidden"></canvas>
      <img id="imgSave"></img>
    </div>
    <div id="loading-spinner-container">
      <span class="icon has-text-link">
        <i class="fas fa-3x fa-sync-alt"></i>
      </span>
    </div>
    <!--
      <div id="loading-canvas-container">
        <progress id="loading-canvas" class="progress is-success is-marginless" value="0" max="100">0%</progress>
        <p id="loading-message" class="is-size-7 has-text-centered">Initializing generation...</p>
      </div>
    -->

    <div id="canvas-legend" class="ml-5 panel is-hidden py-2">
      <div class="columns">
        <div id="legend-column-1" class="column"></div>
        <div id="legend-column-2" class="column"></div>
      </div>
    </div>


    <!-- Right Side -->
    <div class="pos-absolute pos-t-15 pos-r-10 is-inline-flex">
      <div class="buttons">
        <span class="button is-success is-rounded is-very-small is-outlined">
          <span>Upload Heightmap</span>
          <span class="icon">
            <i class="fas fa-file-upload"></i>
          </span>
        </span>
        <span id="regenerate-map-btn" class="button is-link is-rounded is-very-small is-outlined">
          <span>Regenerate</span>
          <span class="icon">
            <i class="fas fa-sync-alt"></i>
          </span>
        </span>
        <span class="button is-info is-rounded is-small">Complete</span>
      </div>
    </div>
    <div id="settings-panel" class="panel pos-absolute pos-t-55 pos-r-10">
      <div id="settings-panel-top-bar" class="is-clickable is-unselectable">
        <p class="has-text-centered is-size-6">
          Settings
          <span class="icon is-pulled-right"><i id="settings-panel-chevron" class="fas fa-chevron-down"></i></span>
        </p>
      </div>
      <div id="settings-panel-contents" class="is-hidden is-size-7">
        <hr class="my-1">
        <div class="setting-container">
          <span class="is-bold">Map Size</span>
          <div class="is-flex is-pulled-right">
            <div id="settingOutput-mapDimension"></div>
            <input id="setting-mapDimension" class="ml-2" type="range" min="4" max="13" value="" step="1"/>
          </div>
        </div>
        <div class="setting-container">
          <span class="is-bold">Unit Size</span>
          <div class="is-flex is-pulled-right">
            <div id="settingOutput-unitSize"></div>
            <input id="setting-unitSize" class="ml-2" type="range" min="0" max="4" value="" step="1"/>
          </div>
        </div>
        <div class="setting-container">
          <span class="is-bold">Ocean Height</span>
          <div class="is-flex is-pulled-right">
            <div id="settingOutput-oceanHeight"></div>
            <input id="setting-oceanHeight" class="ml-2" type="range" min="0" max="1" value="" step="0.1"/>
          </div>
        </div>
        <div class="setting-container">
          <span class="is-bold">Mountain Height</span>
          <div class="is-flex is-pulled-right">
            <div id="settingOutput-mountainHeight"></div>
            <input id="setting-mountainHeight" class="ml-2" type="range" min="0" max="1" value="" step="0.1"/>
          </div>
        </div>
        <hr class="is-light my-1 mx-2">
        <div class="setting-container is-select">
          <span class="is-bold">Wind Direction</span>
          <div class="is-flex is-pulled-right">
            <div class="select is-small is-info">
              <select id="setting-windsDirection">
                <option value="WEST-TO-EAST">West-to-East</option>
                <option value="EAST-TO-WEST">East-to-West</option>
                <option value="NORTH-TO-SOUTH">North-to-South</option>
                <option value="SOUTH-TO-NORTH">South-to-North</option>
                <option value="NONE">None</option>
              </select>
            </div>
          </div>
        </div>
        <hr class="is-light my-1 mx-2">
        <div class="setting-container is-select">
          <span class="is-bold">Display Type</span>
          <div class="is-flex is-pulled-right">
            <div class="select is-small is-info">
              <select id="setting-displayType">
                <option value="STANDARD">2D-Standard</option>
                <option value="SHADOWS">2D-Shadows</option>
                <!--<option value="3D">3D</option>-->
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>


  </body>
</html>
